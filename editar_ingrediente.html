{% extends "base.html" %}

{% block title %}
    Editar Ingrediente - Julli's Brigadeiros
{% endblock %}

{% block subtitle %}
    A editar ingrediente da receita: {{ receita['nome'] }}
{% endblock %}

{% block content %}
<div class="card">
    <h1>âœï¸ Editar Ingrediente</h1>
    <p><strong>Ingrediente:</strong> {{ ingrediente['nome'] }}</p>

    <form method="POST">
        <div class="form-row">
            <div class="form-group" style="flex: 2;">
                <label for="quantidade">Quantidade:</label>
                <input type="number"
                       step="any"
                       name="quantidade"
                       id="quantidade"
                       value="{{ ingrediente['quantidade'] }}"
                       required>
            </div>
            <div class="form-group" style="flex: 1;">
                <label for="unidade">Unidade:</label>
                <select name="unidade" id="unidade" required>
                    {% set unidades = ['g', 'kg', 'ml', 'l', 'colher', 'xÃ­cara', 'unidade', 'pitada'] %}
                    {% for u in unidades %}
                        <option value="{{ u }}" {% if ingrediente['unidade'] == u %}selected{% endif %}>{{ u }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="nav-buttons">
            <button type="submit" class="btn btn-primary">
                ğŸ’¾ Salvar AlteraÃ§Ãµes
            </button>
            <a href="{{ url_for('adicionar_ingredientes', receita_id=receita['id']) }}" class="btn btn-secondary">
                â† Cancelar
            </a>
        </div>
    </form>

    <hr style="margin: 2rem 0; border-top: 1px solid #eee;">

    <div class="danger-zone">
        <h2>âš ï¸ Remover Ingrediente</h2>
        <p>Esta aÃ§Ã£o removerÃ¡ o ingrediente apenas desta receita.</p>
        <form method="POST" action="{{ url_for('excluir_ingrediente', ingrediente_receita_id=ingrediente['id']) }}"
              onsubmit="return confirm('Tem a certeza de que deseja remover este ingrediente da receita?');">
            <button type="submit" class="btn btn-danger">
                ğŸ—‘ï¸ Remover Ingrediente da Receita
            </button>
        </form>
    </div>
</div>
{% endblock %}
